exports.id=0,exports.modules={"./src/server.js":function(e,o,s){"use strict";s.r(o);var t=s("express"),n=s.n(t),a=s("jsonwebtoken"),r=s.n(a),c=s("mongoose"),i=s.n(c);const l=i.a.Schema({email:{type:String,required:!0,unique:!0,match:/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/},password:{type:String,required:!0}});i.a.model("User",l);const u=Object(t.Router)();u.get("/",(e,o)=>{o.json({message:"I am a server route and can also be hot reloaded!"})}),u.post("/user",function(e,o,s){let t=e.headers.authorization;console.log(t),void 0!==t?(e.token=t,s()):o.status(403)},function(e,o,s){r.a.verify(e.token,"secret",(e,t)=>{e&&o.sendStatus(403),s()})},(e,o)=>{console.log(e),o.json({status:200,token:e.token})}),u.post("/login",(e,o)=>{let s={id:0,username:"andres",email:"raethandres4@gmail.com"};r.a.sign({user:s},"secret",(e,t)=>{t?o.json({token:t}):o.json({user:s})})});var d=u;i.a.connect("mongodb://localhost/prueba");const g=n()();g.use(function(e,o,s){o.header("Access-Control-Allow-Origin","*"),o.header("Access-Control-Allow-Headers","Origin, X-Requested-With, Content-Type, Accept,Authorization"),o.header("Access-Control-Allow-Methods","GET,PUT,POST,DELETE"),s()}),g.use("/",d);o.default=g}};